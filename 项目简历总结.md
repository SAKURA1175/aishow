# 项目经历：基于 Spring AI Alibaba 的智能学业辅助平台

## 项目简介
该项目是一个面向高校师生的智能化教学辅助系统，旨在通过大语言模型（LLM）能力解决传统教学中个性化辅导难、资源检索效率低的问题。系统集成了 RAG（检索增强生成）、角色扮演对话、多模态文档解析等核心功能，实现了从“知识检索”到“智能问答”的升级。

## 技术栈
- **核心框架**: Spring Boot 3.3, Spring AI Alibaba (接入通义千问 Qwen-Plus)
- **数据存储**: MySQL 8.0 (业务数据), Redis (缓存/会话), Aliyun OSS (非结构化文件存储)
- **持久层**: MyBatis + MyBatis-Spring-Boot-Starter
- **文档处理**: Apache POI (Word), Apache PDFBox (PDF)
- **前端技术**: HTML5, CSS3, Native JavaScript (无框架轻量化实现)
- **工具/环境**: Maven, Git, Windows/Linux

## 核心职责与贡献

### 1. 系统架构重构与升级
- **SSM 到 Spring Boot 迁移**: 主导将旧版 SSM（Spring+SpringMVC+MyBatis）单体应用重构为 Spring Boot 3.x 架构。解决了 `javax.*` 到 `jakarta.*` 的包迁移兼容性问题，统一了依赖管理，显著降低了配置复杂度。
- **标准化工程结构**: 重新设计项目目录结构，分离 `domain`, `mapper`, `service`, `controller` 层，规范 RESTful API 接口定义，提升代码可维护性。

### 2. Spring AI 大模型集成
- **AI 服务解耦**: 抽象 `AiChatService` 接口，基于 `spring-ai-alibaba-starter` 实现与通义千问模型的对接。
- **角色分身机制**: 设计动态 Prompt（提示词）加载机制。系统根据登录用户身份（学生/教师），自动切换系统提示词（System Prompt），实现“AI 教师”（侧重引导式教学）与“AI 助教”（侧重教学设计辅助）的无缝切换。
- **稳定性保障**: 针对大模型响应慢的问题，引入 `CompletableFuture` 实现异步调用与超时熔断机制（30秒超时），防止 AI 服务波动拖垮主业务线程。

### 3. RAG（检索增强生成）知识库引擎
- **文档解析与切片**: 开发文档处理模块，支持 PDF、Word、TXT 格式上传。实现基于规则的文本切片算法（Chunking），将长文档拆解为适合 LLM 上下文的片段。
- **知识库问答**: 实现“检索-增强-生成”流程。用户提问时，先通过关键词/向量检索匹配本地知识库中的文档切片，将相关上下文注入 Prompt，强制 AI 基于私有数据回答，有效解决了大模型的“幻觉”问题。

### 4. 云原生存储改造
- **阿里云 OSS 集成**: 将原有的本地文件存储方案迁移至阿里云 OSS 对象存储。
- **流式处理**: 改造文件上传与解析服务，采用 `InputStream` 流式处理，避免大文件在服务器本地产生临时文件，降低了磁盘 I/O 压力，提升了系统扩展性。

## 项目成果
- 成功实现了校园知识库的数字化与智能化，支持 100MB+ 大文档的秒级解析。
- 实现了教师与学生双视角的差异化服务，提升了用户体验。
- 系统具备良好的容错性，在 AI 服务不可用时能优雅降级并保留用户记录。
